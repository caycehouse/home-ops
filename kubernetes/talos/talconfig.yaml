---
clusterName: home-cluster
# renovate: depName=ghcr.io/siderolabs/installer datasource=docker extractVersion=^(?<version>.*)$
talosVersion: v1.6.2
# renovate: depName=kubernetes/kubernetes datasource=github-releases extractVersion=^v(?<version>.*)$
kubernetesVersion: 1.29.1

endpoint: https://dingdongs:6443

allowSchedulingOnControlPlanes: true

cniConfig:
  name: none

nodes:
  - hostname: dingdongs
    ipAddress: dingdongs
    controlPlane: true
    installDisk: /dev/sda
    schematic:
      customization:
        systemExtensions:
          officialExtensions:
            - siderolabs/qemu-guest-agent
            - siderolabs/tailscale
    networkInterfaces:
      - interface: eth0
        dhcp: true

controlPlane:
  patches:
    - |-
      cluster:
        proxy:
          disabled: true

patches:
  - "@./tailscale-patch.yaml"
